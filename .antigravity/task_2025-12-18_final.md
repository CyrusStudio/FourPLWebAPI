# Task List - XML Generation & Config Optimization

- [x] Correct missing `using` directives in `BpmDataUploadService.cs`.
- [x] Fix primary constructor in `BpmDataUploadService.cs` to include `IConfiguration`.
- [x] Correct SQL table name spelling from `Vertify` to `Verify`.
- [x] Implement XML generation rules for BPM export.
    - [x] Implement `ToSAP` XML generation logic (Includes CostCenter).
    - [x] Implement `ToARICH` XML generation logic (ReceivingParty = 'L').
    - [x] Implement `ToZL` XML generation logic (ReceivingParty = 'B').
    - [x] Update `ExecuteFullUploadProcessAsync` to orchestrate generation and upload.
    - [x] Implement `MarkAsExportedAsync` to update `ExportedAt` timestamp.
- [x] Restructure and Optimize Configuration.
    - [x] Split `DataExchange` into `SapSoSync`, `SapMasterData`, and `BpmDataUpload`.
    - [x] Move `NetworkDisk` to top-level global section.
    - [x] Remove redundant `Sftp` and `Smtp` sections.
    - [x] Align `NetworkDiskHelper` and `SftpConnectionFactory` with new paths.
- [x] Dead Code Removal.
    - [x] Remove `ISftpHelper` and `IEmailHelper` (Identified as useless/unused).
    - [x] Remove DI registrations in `Program.cs`.
- [x] Fail-Safe Configuration Refactoring.
    - [x] Create `appsettings.Production.json` for production-specific settings.
    - [x] Sanitize `appsettings.json` with safe defaults.
    - [x] Verify environment-based configuration behavior.
- [x] Final verification and build.
